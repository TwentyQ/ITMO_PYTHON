from .author import Author  # Импорт класса Author из модуля author в том же пакете


class App:
    """
    Класс, представляющий приложение с его основными метаданными.

    Атрибуты:
        __name (str): Приватное поле для хранения названия приложения
        __version (str): Приватное поле для хранения версии приложения
        __author (Author): Приватное поле для хранения автора приложения
    """

    def __init__(self, name: str, version: str, author: Author) -> None:
        """
        Инициализирует объект App с заданными параметрами.

        Аргументы:
            name: Название приложения
            version: Версия приложения в формате строки
            author: Объект автора приложения типа Author
        """
        # Приватное поле для хранения названия приложения
        self.__name: str = name

        # Приватное поле для хранения версии приложения
        self.__version: str = version

        # Приватное поле для хранения автора приложения
        self.__author: Author = author

    @property
    def name(self) -> str:
        """
        Геттер для получения названия приложения.

        Возвращает:
            str: Название приложения
        """
        return self.__name

    @name.setter
    def name_app(self, name: str) -> None:
        """
        Сеттер для установки нового названия приложения с валидацией.

        Аргументы:
            name: Новое название приложения

        Выбрасывает:
            ValueError: Если название не является строкой или пустое
        """
        # Проверяем, что name является строкой и имеет длину не менее 1 символа
        if type(name) is str and len(name) >= 1:
            self.__name = name
        else:
            # Генерируем исключение, если данные невалидны
            raise ValueError('Ошибка при задании названия приложения')

    @property
    def version(self) -> str:
        """
        Геттер для получения версии приложения.

        Возвращает:
            str: Версия приложения
        """
        return self.__version

    @version.setter
    def version(self, version: str) -> None:
        """
        Сеттер для установки новой версии приложения с валидацией.

        Аргументы:
            version: Новая версия приложения

        Выбрасывает:
            ValueError: Если версия не является строкой или пустая
        """
        # Проверяем, что version является строкой и не пустая
        if type(version) is str and len(version) > 0:
            self.__version = version
        else:
            # Генерируем исключение, если данные невалидны
            raise ValueError('Ошибка при задании версии')

    @property
    def author(self) -> Author:
        """
        Геттер для получения автора приложения.

        Возвращает:
            Объект автора приложения
        """
        return self.__author

    @author.setter
    def author(self, author: Author) -> None:
        """
        Сеттер для установки нового автора приложения с валидацией.

        Аргументы:
            author: Новый объект автора приложения

        Выбрасывает:
            ValueError: Если автор не является экземпляром класса Author
        """
        # Проверяем, что переданный объект имеет тип Author
        # Используем type().__name__ для получения имени класса
        if type(author).__name__ != 'Author':
            # Генерируем исключение, если объект не является Author
            raise ValueError('Автор должен быть экземпляром класса Author')

        # Устанавливаем нового автора
        self.__author = author